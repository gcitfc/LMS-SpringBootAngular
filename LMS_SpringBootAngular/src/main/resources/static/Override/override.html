<div class="jumbotron">
    <div class="container">
      <h2>Override Due Date</h2>
    </div>
</div>

<div class="container" ng-controller="bookLoanController">
<form>
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Branch</label>
   	<div class="col-sm-6">
	    <select class="form-control"  ng-model="thisBranch" id="thisBranch">
	      <option ng-repeat="b in branches | orderBy : '+branchName'" value={{b}}>{{b.branchName}}</option>
	    </select>   
  	</div>
  </div>
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Borrower</label>
   	<div class="col-sm-6">
	    <select class="form-control"  ng-model="thisBorrower" id="thisBorrower">
	      <option ng-repeat="b in borrowers | orderBy : '+cardNo'" value={{b}}>#{{b.cardNo}} {{b.name}}</option>
	    </select>   
  	</div>
  	<div class="col-sm-2">
    <button type="submit" class="btn btn-primary" ng-click="search()">Search</button>
  </div>
  </div>
  
	<div class="container" ng-controller="bookLoanController">
	<table class="table table-hover">
		<thead>
			<tr>
				<th scope="col">#</th>
				<th scope="col">Book</th>
				<th scope="col">Checkout Date</th>
				<th scope="col">Due</th>
				<th scope="col">Override</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="r in records">
				<td scope="col">{{$index+1}}</td>
				<td scope="col">{{r.book.title}}</td>
				<td scope="col">{{r.dateOut}}</td>
				<td scope="col">{{r.dueDate}}</td>
				<td scope="col"><button type="submit" class="btn btn-primary" ng.model="thisRecord" ng-click="editDue(r)" data-toggle="modal" data-target="#editModal">>></button></td>
			</tr>
		</tbody>
	</table>
</div>

<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editModalLabel">New Due Date</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="col-sm-6">
      		<input type="text" class="form-control" ng-model="newDuedate" id="newDuedate" placeholder="Ext. 2019-01-01">
    	</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="updateDue()">Save changes</button>
      </div>
    </div>
  </div>
</div>



</form>
	
</div>